Outputs and logs will be written to: ./out
[2025-10-25 17:50:41] ================================================================
[2025-10-25 17:50:41] ==> ./install/bin/flang -###
[2025-10-25 17:50:41] flang version 21.1.3
[2025-10-25 17:50:41] Target: x86_64-unknown-linux-gnu
[2025-10-25 17:50:41] Thread model: posix
[2025-10-25 17:50:41] InstalledDir: /work/install/bin
[2025-10-25 17:50:41] ================================================================
[2025-10-25 17:50:41] ==> ./install/bin/flang ./src/main.f08 -o ./out/main-f
[2025-10-25 17:50:44] /usr/sbin/ld: /tmp/main-e745b5.o: in function `_QQmain':
[2025-10-25 17:50:44] FIRModule:(.text+0x23): undefined reference to `foo_'
[2025-10-25 17:50:44] flang-21: error: linker command failed with exit code 1 (use -v to see invocation)
[2025-10-25 17:50:44] ERROR: command exited with code 1: ./install/bin/flang ./src/main.f08 -o ./out/main-f
[2025-10-25 17:50:44] ================================================================
[2025-10-25 17:50:44] ==> ./install/bin/flang -c ./src/foo.f08 -o ./out/foo.o
[2025-10-25 17:50:45] ================================================================
[2025-10-25 17:50:45] ==> ./install/bin/flang ./src/main.f08 ./out/foo.o -o ./out/main-f -###
[2025-10-25 17:50:45] flang version 21.1.3
[2025-10-25 17:50:45] Target: x86_64-unknown-linux-gnu
[2025-10-25 17:50:45] Thread model: posix
[2025-10-25 17:50:45] InstalledDir: /work/install/bin
[2025-10-25 17:50:45]  "/work/install/bin/flang" "-fc1" "-triple" "x86_64-unknown-linux-gnu" "-emit-obj" "-mrelocation-model" "pic" "-pic-level" "2" "-pic-is-pie" "-target-cpu" "x86-64" "-resource-dir" "/work/install/lib/clang/21" "-mframe-pointer=all" "-o" "/tmp/main-57faf5.o" "-x" "f95" "./src/main.f08"
[2025-10-25 17:50:45]  "/usr/sbin/ld" "--hash-style=gnu" "--eh-frame-hdr" "-m" "elf_x86_64" "-pie" "-dynamic-linker" "/lib64/ld-linux-x86-64.so.2" "-o" "./out/main-f" "/usr/lib64/gcc/x86_64-pc-linux-gnu/15.2.1/../../../../lib64/Scrt1.o" "/usr/lib64/gcc/x86_64-pc-linux-gnu/15.2.1/../../../../lib64/crti.o" "/work/install/lib/clang/21/lib/x86_64-unknown-linux-gnu/clang_rt.crtbegin.o" "-L/work/install/bin/../lib/x86_64-unknown-linux-gnu" "-L/work/install/lib/clang/21/lib/x86_64-unknown-linux-gnu" "-L/usr/lib64/gcc/x86_64-pc-linux-gnu/15.2.1" "-L/usr/lib64/gcc/x86_64-pc-linux-gnu/15.2.1/../../../../lib64" "-L/lib/../lib64" "-L/usr/lib64" "-L/lib" "-L/usr/lib" "/tmp/main-57faf5.o" "./out/foo.o" "-L/work/install/lib" "-lflang_rt.runtime" "-lm" "/work/install/lib/clang/21/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a" "--as-needed" "-lunwind" "--no-as-needed" "-lc" "/work/install/lib/clang/21/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a" "--as-needed" "-lunwind" "--no-as-needed" "/work/install/lib/clang/21/lib/x86_64-unknown-linux-gnu/clang_rt.crtend.o" "/usr/lib64/gcc/x86_64-pc-linux-gnu/15.2.1/../../../../lib64/crtn.o"
[2025-10-25 17:50:45] ================================================================
[2025-10-25 17:50:45] ==> ./install/bin/flang ./src/main.f08 ./out/foo.o -o ./out/main-f
[2025-10-25 17:50:48] ================================================================
[2025-10-25 17:50:48] ==> ./out/main-f
[2025-10-25 17:50:48]  main.f08:: 1 + 1 = 2
[2025-10-25 17:50:48] ================================================================
[2025-10-25 17:50:48] ==> cc ./src/main.c ./out/foo.o -o ./out/main-c
[2025-10-25 17:50:48] ================================================================
[2025-10-25 17:50:48] ==> ./out/main-c
[2025-10-25 17:50:48] main.c::1 + 1 = 2
Done. Full log: ./out/run_flang.log
